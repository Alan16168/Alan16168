# 🔧 快速解决 "Invalid credentials" 问题

## 问题原因

您看到的错误是因为：
1. 后端使用**内存数据库**（MongoDB Memory Server）
2. 每次重启服务器，数据库会被清空
3. 之前注册的用户已不存在

## ✅ 解决方案（非常简单）

### 方法1：重新注册一个新用户（推荐）

**步骤**：
1. 在页面左侧"注册新用户"区域
2. 邮箱已经自动生成了新的（每次刷新页面都会变）
3. 直接点击"注册"按钮
4. 注册成功后就可以使用了

**注意**：不要使用之前的邮箱，每次都用页面自动生成的新邮箱。

### 方法2：使用演示管理员账户

后端启动时会自动创建一个管理员账户：

```
邮箱: admin@demo.com
密码: demo123456
```

在"用户登录"区域输入这个账户，点击"登录"。

---

## 🎯 推荐操作流程

### 正确的测试流程：

```
1. 刷新测试页面
   ↓
2. 页面会自动生成新的随机邮箱
   ↓
3. 点击"注册"按钮（左侧）
   ↓
4. 看到"✅ 注册成功"
   ↓
5. 开始测试AI聊天
```

### ❌ 不要这样做：

```
❌ 不要使用之前注册过的邮箱登录
❌ 不要手动输入旧的邮箱
```

---

## 💡 为什么会这样？

### 内存数据库的特点：

| 特性 | 说明 |
|------|------|
| 速度快 | ✅ 不需要安装真实数据库 |
| 易部署 | ✅ 完全在内存中运行 |
| 数据临时 | ⚠️ 重启后数据消失 |

这是**演示模式**的正常行为！

### 如果需要持久化数据：

在生产环境中，应该使用真实的MongoDB数据库：

```javascript
// 生产环境配置
MONGODB_URI=mongodb://localhost:27017/bc-landlord-manager
```

---

## 🔄 页面刷新后的正确操作

每次打开测试页面或刷新后：

1. **查看邮箱输入框** - 应该有自动生成的邮箱（如：test1760759451281@example.com）
2. **直接点击"注册"** - 不需要修改任何内容
3. **等待成功提示** - 看到"✅ 注册成功"和Token
4. **开始测试** - 现在可以使用AI聊天了

---

## 📝 当前可用的账户

### 演示管理员（永远可用）

```
邮箱: admin@demo.com
密码: demo123456
角色: 管理员
```

这个账户在每次后端启动时都会自动创建。

### 新注册的用户（临时）

每次注册都会创建新用户，但重启后会消失。

---

## 🎯 快速测试指南

### 方式A：使用管理员账户（最快）

1. 在右侧"用户登录"区域
2. 邮箱输入：`admin@demo.com`
3. 密码输入：`demo123456`
4. 点击"登录"
5. 开始测试

### 方式B：注册新用户（推荐）

1. 在左侧"注册新用户"区域
2. 邮箱已自动填充（不要修改）
3. 点击"注册"
4. 开始测试

---

## 🐛 故障排除

### 问题1：登录显示"Invalid credentials"

**原因**：用户不存在或密码错误

**解决**：
- 使用管理员账户：admin@demo.com / demo123456
- 或者重新注册新用户

### 问题2：注册显示"User already exists"

**原因**：邮箱已被使用

**解决**：
- 刷新页面，会自动生成新邮箱
- 或者手动修改邮箱地址

### 问题3：Token显示但无法发送消息

**原因**：Token可能已过期

**解决**：
- 点击"清除Token"按钮
- 重新登录或注册

---

## 🎉 现在开始测试！

### 快速开始（30秒）

1. **打开测试页面**
   ```
   https://8080-i75t2b5146b2ag3brd419-ad490db5.sandbox.novita.ai
   ```

2. **使用管理员账户登录**
   - 邮箱：`admin@demo.com`
   - 密码：`demo123456`

3. **点击"🐕 宠物政策"测试AI**

4. **完成！**

---

## 📚 记住这些要点

✅ **每次刷新页面** → 使用新生成的邮箱注册

✅ **或者使用管理员** → admin@demo.com / demo123456

✅ **看到Token后** → 就可以测试AI了

❌ **不要用旧邮箱** → 重启后旧用户已不存在

❌ **不要期望数据保留** → 这是演示模式的正常行为

---

## 🎊 问题解决！

这不是错误，这是**演示模式的正常行为**！

只需：
1. 使用管理员账户登录
2. 或重新注册新用户

就可以正常使用所有功能了！

**立即试试管理员账户**：
- 邮箱：`admin@demo.com`
- 密码：`demo123456`

🚀 **开始测试！**
